<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>CAP Image Damage Assessment</title>
    <!-- <script>
        function checkProtocol() {
            console.log("document.location.protocol", document.location.protocol);
            if (window.location.protocol === "https:") {
                window.location.href = "http:" + window.location.href.substring(window.location.protocol.length);
            }
        }
        checkProtocol();
    </script> -->
    <link rel="stylesheet" href="css/image_review.css" type="text/css">
    <link rel="stylesheet" href="https://openlayers.org/en/v4.3.1/css/ol.css" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <!-- The line below is only needed for old environments like Internet Explorer and Android 4.x -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL"></script>
    <script src="https://openlayers.org/en/v4.3.1/build/ol.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Load Leaflet from CDN -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
        crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-draw@0.4.12/dist/leaflet.draw.css" integrity="sha384-NZLkVuBRMEeB4VeZz27WwTRvlhec30biQ8Xx7zG7JJnkvEKRg5qi6BNbEXo9ydwv"
        crossorigin="anonymous">
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
        crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-draw@0.4.12/dist/leaflet.draw.js" integrity="sha384-RvVNkwChwC2ySvAbzy4eJZmH89T0sBJrpvgYcGwL7TcW5vMx67BTOFEmugWnGV5Q"
        crossorigin="anonymous"></script>

    <script src="../../src/Leaflet.Draw.Event.js"></script>

    <script src="../../src/edit/handler/Edit.Poly.js"></script>
    <script src="../../src/edit/handler/Edit.SimpleShape.js"></script>
    <script src="../../src/edit/handler/Edit.Rectangle.js"></script>
    <script src="../../src/edit/handler/Edit.Marker.js"></script>
    <script src="../../src/edit/handler/Edit.CircleMarker.js"></script>
    <script src="../../src/edit/handler/Edit.Circle.js"></script>

    <script src="../../src/draw/handler/Draw.Feature.js"></script>
    <script src="../../src/draw/handler/Draw.Polyline.js"></script>
    <script src="../../src/draw/handler/Draw.Polygon.js"></script>
    <script src="../../src/draw/handler/Draw.SimpleShape.js"></script>
    <script src="../../src/draw/handler/Draw.Rectangle.js"></script>
    <script src="../../src/draw/handler/Draw.Circle.js"></script>
    <script src="../../src/draw/handler/Draw.Marker.js"></script>
    <script src="../../src/draw/handler/Draw.CircleMarker.js"></script>

    <script src="../../src/ext/TouchEvents.js"></script>
    <script src="../../src/ext/LatLngUtil.js"></script>
    <script src="../../src/ext/GeometryUtil.js"></script>
    <script src="../../src/ext/LineUtil.Intersect.js"></script>
    <script src="../../src/ext/Polyline.Intersect.js"></script>
    <script src="../../src/ext/Polygon.Intersect.js"></script>

    <script src="../../src/Control.Draw.js"></script>
    <script src="../../src/Tooltip.js"></script>
    <script src="../../src/Toolbar.js"></script>

    <script src="../../src/draw/DrawToolbar.js"></script>
    <script src="../../src/edit/EditToolbar.js"></script>
    <script src="../../src/edit/handler/EditToolbar.Edit.js"></script>
    <script src="../../src/edit/handler/EditToolbar.Delete.js"></script>

    <!-- Load Esri Leaflet from CDN -->
    <script src="https://unpkg.com/esri-leaflet@2.1.1/dist/esri-leaflet.js" integrity="sha512-ECQqaYZke9cSdqlFG08zSkudgrdF6I1d8ViSa7I3VIszJyVqw4ng1G8sehEXlumdMnFYfzY0tMgdQa4WCs9IUw=="
        crossorigin=""></script>
    <script src="js/image_review.js"></script>
</head>

<body onload="init_map()">
    <div class="left-layout-frame">
        <div id="map" class="map"> </div>
        <div id="navigation" class="navigation">

            <button class="nav nav1" onclick='previous_image();'>Previous Image</button>
            <button class="nav" onclick='next_image();'>Skip - Next Image</button>
            <button class="nav" onclick='save_next_image();'>Save - Next Image</button>
        </div>
    </div>
    <div class="right-layout-frame">
        <div id="review_tools" class="review_tools">
            <h3>Mark the Image with Damage Assessments</h3>
            <span class="affected_spn tool_spn"><input type="radio" name="btn_DamageMarker" id="btn_DamageMarkerAffected" value="BLDG_A" size="5" onclick='set_markertool("affected");'/>Mark Buildings as Affected</span><br/>
            <span class="impacted_spn tool_spn"><input type="radio" name="btn_DamageMarker" id="btn_DamageMarkerImpacted" value="BLDG_I" size="5" onclick='set_markertool("impacted");'/>Mark Buildings as Impacted</span><br/>
            <span class="damaged_spn tool_spn"><input type="radio" name="btn_DamageMarker" id="btn_DamageMarkerDamaged" value="BLDG_D" size="5" onclick='set_markertool("damaged");'/>Mark Buildings as Damaged</span><br/>
            <span class="destroyed_spn tool_spn"><input type="radio" name="btn_DamageMarker" id="btn_DamageMarkerDestroyed" value="BLDG_X" size="5" onclick='set_markertool("destroyed");'/>Mark Buildings as Destroyed</span><br/><br/>
            <input class=" tool_spn" type="radio" name="btn_DamageMarker" value="eraser" size="5" onclick='set_markertool("eraser");'
            />Remove All Marks on Image<br/><br/>

            <input class=" tool_spn" type="radio" name="btn_GeneralMarker" value="impct" size="5" onselect='set_general("impact");' />In
            General, Impact is shown in Image<br/>
            <input class=" tool_spn" type="radio" name="btn_GeneralMarker" value="non-impct" size="5" onselect='set_general("noimpact");'
            />In General, No Impact in Images<br/>

        </div>
        <div id="image_info" class="image_info">
            <b>Image Info:</b><br/>
            <b class="piLbl">Event:</b> <span id='eventname'>&lt;Event Name&gt;</span><br/>
            <b class="piLbl">Team:</b> <span id='teamname'>&lt;Team&gt;</span><br/>
            <b class="piLbl">Mission:</b> <span id='missionname'>&lt;Mission&gt;</span><br/>
            <b class="piLbl">Photo Date:</b> <span id='photo_date'>&lt;date&gt;</span><br/>
            <b class="piLbl">Altitude:</b> <span id='photo_altitude'>&lt;altitude&gt;</span>(m)<br/>
        </div>
        <div id="overview_map" class="overview_map"> </div>

    </div>

    <!-- Modal -->
    <div class="modal fade" id="redirectModal" role="dialog">
        <div class="modal-dialog modal-lg">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Changing Protocol</h4>
                </div>
                <div class="modal-body">
                    <div id="redirectModalText"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>
</body>

</html>